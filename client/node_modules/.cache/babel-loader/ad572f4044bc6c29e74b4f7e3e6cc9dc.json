{"ast":null,"code":"var _jsxFileName = \"/home/any/Escritorio/PF/PF-GRUPAL/client/src/Pages/RegistrateLugarSeguro.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postAprobation, byCountrys, byTown } from '.././actions/actions';\nimport axios from \"axios\";\nimport './RegistrateLugarSeguro.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction validate(input) {\n  let errors = {};\n\n  if (!input.name) {\n    errors.name = 'Se requiere un nombre';\n  } else if (!input.country) {\n    errors.country = 'Se requiere un pais';\n  } else if (!input.town) {\n    errors.town = 'Se requiere una ciudad';\n  } else if (!input.street) {\n    errors.street = 'Se requiere una calle';\n  } else if (!input.number) {\n    errors.direction = 'Se requiere un número';\n  } else if (!input.postcode) {\n    errors.postcode = 'Se requiere un código postal';\n  } else if (!input.email) {\n    errors.email = 'Se requiere un mail';\n  } else if (!input.telephone) {\n    errors.telephone = 'Se requiere un teléfono';\n  } else if (!input.keyword) {\n    errors.keyword = 'Se requiere una palabra clave';\n  } else if (!input.relation) {\n    errors.relation = 'Se requiere una relación';\n  }\n\n  return errors;\n}\n\n;\nexport default function Registrate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const userId = useSelector(state => state.userId);\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    name: \"\",\n    country: \"\",\n    town: \"\",\n    street: \"\",\n    number: \"\",\n    postcode: \"\",\n    email: \"\",\n    telephone: \"\",\n    keyword: \"\",\n    relation: \"\"\n  });\n\n  function handleChange(e) {\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n    console.log(input);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    console.log(input);\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n    dispatch(postAprobation(input, userId));\n    await axios.post('http://localhost:3001/email/registroSafePlace', input);\n    alert(\"Registro creado!\");\n    setInput({\n      name: \"\",\n      country: \"\",\n      town: \"\",\n      street: \"\",\n      number: \"\",\n      postcode: \"\",\n      email: \"\",\n      telephone: \"\",\n      keyword: \"\",\n      relation: \"\"\n    });\n    history.push('/');\n  }\n\n  const handleFilterCountrys = e => {\n    setInput({ ...input,\n      country: e.target.value\n    });\n    dispatch(byCountrys(e.target.value));\n  };\n\n  const handleFilterTown = e => {\n    setInput({ ...input,\n      town: e.target.value\n    });\n    dispatch(byTown(e.target.value));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pageregistro\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Registro de lugar seguro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postlugarSeguro-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"primerparrafo\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Complet\\xE1 el formulario y registr\\xE1 tu comercio, empresa o entidad.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 45\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"segundoparrafo\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ayudanos a luchar contra la violencia machista y sexual.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"rectangulo\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formname\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.name,\n          name: \"name\",\n          placeholder: \"Nombre\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 16\n        }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"formcountry\",\n          onChange: e => handleFilterCountrys(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"All\",\n            children: \"Pa\\xEDs del lugar seguro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Argentina\",\n            children: \"Argentina\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 23\n          }, this), input.country]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"formtown\",\n          onChange: e => handleFilterTown(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"All\",\n            children: \"Ciudad Del lugar seguro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Ciudad Aut\\xF3noma de Buenos Aires\",\n            children: \"Ciudad Aut\\xF3noma de Buenos Aires\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 23\n          }, this), input.town]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formstreet\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.street,\n          name: \"street\",\n          placeholder: \"Calle del lugar seguro\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 16\n        }, this), errors.street && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.street\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formnumber\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.number,\n          name: \"number\",\n          placeholder: \"N\\xFAmero\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 22\n        }, this), errors.number && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formpostcode\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.postcode,\n          name: \"postcode\",\n          placeholder: \"C\\xF3digo postal del lugar seguro\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 26\n        }, this), errors.postcode && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.postcode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formmail\",\n          autoComplete: \"off\",\n          type: \"email\",\n          value: input.email,\n          name: \"email\",\n          placeholder: \"nombre@example.com\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 16\n        }, this), errors.mail && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.mail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formtelephone\",\n          autoComplete: \"off\",\n          type: \"tel\",\n          value: input.telephone,\n          name: \"telephone\",\n          placeholder: \"Tel\\xE9fono\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 16\n        }, this), errors.telephone && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.telephone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formkeyword\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.keyword,\n          name: \"keyword\",\n          placeholder: \"Palabra clave\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 16\n        }, this), errors.keyword && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.keyword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"caja\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"cuadradito\",\n            children: \"?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"info\",\n            children: \"La palabra clave la utilizar\\xE1n para pedir ayuda cuando recurran al lugar. Eleg\\xED algo representativo de tu establecimiento.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 84\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formrelation\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.relation,\n          name: \"relation\",\n          placeholder: \"Cu\\xE1l es tu relaci\\xF3n con el lugar seguro a registrar?\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 16\n        }, this), errors.relation && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.relation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btninput\",\n          type: \"submit\",\n          disabled: !input.name || !input.town || !input.street || !input.number || !input.postcode || !input.email || !input.telephone || !input.keyword || !input.relation || !input.country,\n          onClick: e => handleSubmit(e),\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Registrate, \"s2gmLHv56FbHr7f1aC+p2Y6Fj0k=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = Registrate;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registrate\");","map":{"version":3,"sources":["/home/any/Escritorio/PF/PF-GRUPAL/client/src/Pages/RegistrateLugarSeguro.jsx"],"names":["React","useState","useHistory","useDispatch","useSelector","postAprobation","byCountrys","byTown","axios","validate","input","errors","name","country","town","street","number","direction","postcode","email","telephone","keyword","relation","Registrate","dispatch","history","userId","state","setErrors","setInput","handleChange","e","target","value","console","log","handleSubmit","preventDefault","post","alert","push","handleFilterCountrys","handleFilterTown","mail"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport { useDispatch,useSelector} from \"react-redux\";\nimport {postAprobation, byCountrys, byTown} from '.././actions/actions';\nimport axios from \"axios\";\nimport './RegistrateLugarSeguro.css';\n\n\nfunction validate(input) {\n    let errors = {};\n    if (!input.name) {\n      errors.name = 'Se requiere un nombre';\n    }\n     else if (!input.country) {\n    errors.country = 'Se requiere un pais';\n    }\n    else if (!input.town) {\n    errors.town = 'Se requiere una ciudad';\n    }\n    else if (!input.street) {\n        errors.street = 'Se requiere una calle';\n    }\n    else if (!input.number) {\n        errors.direction = 'Se requiere un número';\n    }\n    else if (!input.postcode) {\n        errors.postcode = 'Se requiere un código postal';\n    }\n    else if (!input.email) {\n        errors.email = 'Se requiere un mail';\n    }  \n    else if (!input.telephone) {\n        errors.telephone = 'Se requiere un teléfono';\n    }\n    else if (!input.keyword) {\n        errors.keyword = 'Se requiere una palabra clave';\n    }\n    else if (!input.relation) {\n        errors.relation = 'Se requiere una relación';\n    }\n    return errors;\n  };\n\nexport default function Registrate() {\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const userId = useSelector((state)=> state.userId);\n\n\n\n    const [errors,setErrors] = useState({});\n    const [input,setInput] = useState({\n        name: \"\",\n        country: \"\",\n        town: \"\",\n        street: \"\",\n        number: \"\",\n        postcode: \"\",\n        email: \"\",\n        telephone: \"\", \n        keyword: \"\",\n        relation: \"\",\n    })\n\n    function handleChange(e){\n        setInput({\n            ...input,\n            [e.target.name] : e.target.value\n        })\n        setErrors(validate({\n         ...input,\n         [e.target.name]: e.target.value\n       }));\n        console.log(input)\n    }\n    async function handleSubmit(e){\n        e.preventDefault();\n        console.log(input)\n        setErrors(validate({\n            ...input,\n            [e.target.name]:e.target.value\n        }));\n        dispatch(postAprobation(input,userId))\n        await axios.post('http://localhost:3001/email/registroSafePlace', input)\n        alert(\"Registro creado!\")\n        setInput({\n        name: \"\",\n        country: \"\",\n        town: \"\",\n        street: \"\",\n        number: \"\",\n        postcode: \"\",\n        email: \"\",\n        telephone: \"\", \n        keyword: \"\",\n        relation: \"\", \n        })\n        history.push('/')\n    }\n    const handleFilterCountrys = (e) => {\n        setInput({...input,country:e.target.value})\n        dispatch(byCountrys(e.target.value));\n      };\n      const handleFilterTown = (e) => {\n        setInput({...input,town:e.target.value})\n        dispatch(byTown(e.target.value));\n      };\n\n    return (\n        <div className='pageregistro'>\n            <div className='title'><h1>Registro de lugar seguro</h1></div>\n            <div className=\"postlugarSeguro-line\"></div>\n            <div className='primerparrafo'> <p>Completá el formulario y registrá tu comercio, empresa o entidad.</p> </div>\n           <div className='segundoparrafo' >\n           <p>Ayudanos a luchar contra la violencia machista y sexual.</p>\n           </div>\n           <div >\n           <form className='rectangulo'>\n               <input  className='formname'\n                    autoComplete = 'off'\n                    type= \"text\"\n                    value= {input.name}\n                    name= \"name\"\n                    placeholder=\"Nombre\"\n                    onChange={(e)=>handleChange(e)} \n                    />\n                     {errors.name && (\n                        <p className='error'>{errors.name}</p>\n                    )}\n                    <select className='formcountry' onChange={e => handleFilterCountrys(e)}>\n                      <option value=\"All\">País del lugar seguro</option>\n                      <option value=\"Argentina\">Argentina</option>\n                      {input.country}</select>\n                     <select className='formtown' onChange={e => handleFilterTown(e)}>\n                      <option value=\"All\">Ciudad Del lugar seguro</option>\n\n                      <option value=\"Ciudad Autónoma de Buenos Aires\">Ciudad Autónoma de Buenos Aires</option>\n                     {input.town}</select>\n               <input className='formstreet'\n                    autoComplete = 'off'\n                    type= \"text\"\n                    value= {input.street}\n                    name= \"street\"\n                    placeholder=\"Calle del lugar seguro\"\n                    onChange={(e)=>handleChange(e)} \n                    />\n                     {errors.street && (\n                        <p className='error'>{errors.street}</p>\n                    )}\n                     <input className='formnumber'\n                    autoComplete = 'off'\n                    type= \"text\"\n                    value= {input.number}\n                    name= \"number\"\n                    placeholder=\"Número\"\n                    onChange={(e)=>handleChange(e)} \n                    />\n                     {errors.number && (\n                        <p className='error'>{errors.number}</p>\n                    )}\n                         <input className='formpostcode'\n                    autoComplete = 'off'\n                    type= \"text\"\n                    value= {input.postcode}\n                    name= \"postcode\"\n                    placeholder=\"Código postal del lugar seguro\"\n                    onChange={(e)=>handleChange(e)} \n                    />\n                     {errors.postcode && (\n                        <p className='error'>{errors.postcode}</p>\n                    )}\n               <input className='formmail'\n                    autoComplete = 'off'\n                    type= \"email\"\n                    value= {input.email}\n                    name= \"email\"\n                    placeholder=\"nombre@example.com\"\n                    onChange={(e)=>handleChange(e)} \n                    />\n                     {errors.mail && (\n                        <p className='error'>{errors.mail}</p>\n                    )}\n               <input className='formtelephone'\n                    autoComplete = 'off'\n                    type= \"tel\"\n                    value= {input.telephone}\n                    name= \"telephone\"\n                    placeholder=\"Teléfono\"\n                    onChange={(e)=>handleChange(e)} \n                    />\n                     {errors.telephone && (\n                        <p className='error'>{errors.telephone}</p>\n                    )}\n               <input className='formkeyword'\n                    autoComplete = 'off'\n                    type= \"text\"\n                    value= {input.keyword}\n                    name= \"keyword\"\n                    placeholder=\"Palabra clave\"\n                    onChange={(e)=>handleChange(e)} \n                    /> \n                     {errors.keyword && (\n                        <p className='error'>{errors.keyword}</p>\n                    )}\n                     <div className=\"caja\"><a href='#' className='cuadradito'>?</a><span className=\"info\">La palabra clave la utilizarán para pedir ayuda cuando recurran al lugar. Elegí algo representativo de tu establecimiento.</span></div>\n               <input className='formrelation'\n                    autoComplete = 'off'\n                    type= \"text\"\n                    value= {input.relation}\n                    name= \"relation\"\n                    placeholder=\"Cuál es tu relación con el lugar seguro a registrar?\"\n                    onChange={(e)=>handleChange(e)} \n                   />\n                    {errors.relation && (\n                        <p className='error'>{errors.relation}</p>\n                    )}\n\n               <button className=\"btninput\" type='submit' disabled={!input.name || !input.town || !input.street  || !input.number || !input.postcode  || !input.email || !input.telephone || !input.keyword || !input.relation || !input.country } onClick={(e) => handleSubmit(e)}>Registrar</button>\n           </form>\n           </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}