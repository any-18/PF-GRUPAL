{"ast":null,"code":"var _jsxFileName = \"/home/any/Escritorio/PF/PF-GRUPAL/client/src/Components/Mapa/Map.jsx\",\n    _s = $RefreshSig$();\n\nimport { GoogleMap, withScriptjs, withGoogleMap, Marker } from \"react-google-maps\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { connect } from 'react-redux';\nimport { getallsafesitie } from '../../actions/actions.js';\nimport pin from \"./../../imgs/iconmapp.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Maps(props) {\n  _s();\n\n  const [myLatiLngi, setLatiLngi] = useState({});\n  let map;\n  let marker;\n  let watchID;\n  let geoLoc;\n\n  function initMap() {\n    const myLatLng = {\n      lat: -25.363,\n      lng: 131.044\n    };\n    map = new window.google.maps.Map(document.getElementById(\"map\"), {\n      zoom: 4,\n      center: myLatLng\n    });\n    marker = new window.google.maps.Marker({\n      position: myLatLng,\n      map,\n      title: \"Hello Word\"\n    });\n    getPosition();\n  }\n\n  function getPosition() {\n    if (navigator.geolocation) {\n      var options = {\n        timeout: 60000\n      };\n      geoLoc = navigator.geolocation;\n      watchID = geoLoc.watchPosition(showLocationOnMap, errorHandler, options);\n    } else {\n      alert(\"Lo sentimos, el explorador no soporta geolocalizacion\");\n    }\n  }\n\n  function showLocationOnMap(position) {\n    var latitud = position.coords.latitude;\n    var longitud = position.coords.longitude;\n    console.log(\"latitud: \" + latitud + \" Longitud: \" + longitud);\n    const myLatLng = {\n      lat: latitud,\n      lng: longitud\n    };\n    marker.setPosition(myLatLng);\n    map.setCenter(myLatLng);\n  }\n\n  function errorHandler(err) {\n    if (err.code == 1) {\n      alert(\"Error: Acceso denegado\");\n    } else if (err.code == 2) {\n      alert(\"Error: Position no existe o no se encuentra\");\n    }\n  }\n\n  const dispatch = useDispatch();\n  const todo = useEffect(async () => {\n    console.log(props);\n    await initMap();\n    dispatch(getallsafesitie());\n  }, []);\n  const allsities = useSelector(state => state.stateSitie);\n  const coord = {\n    lat: -34.607914,\n    lng: -58.370321\n  };\n  const descrip = 'hola';\n  var locations = [{\n    description: 'First Safe',\n    coord: {\n      lat: -34.607914,\n      lng: -58.370321\n    }\n  }, {\n    description: 'Second Safe',\n    coord: {\n      lat: -34.596152,\n      lng: -58.383100\n    }\n  }, {\n    description: 'Third Safe',\n    coord: {\n      lat: -34.603972352446355,\n      lng: -58.39045422694449\n    }\n  }, {\n    description: 'Fourth Safe',\n    coord: {\n      lat: -34.603159908195096,\n      lng: -58.39217084074385\n    }\n  }, {\n    description: 'Fifth Safe',\n    coord: {\n      lat: -34.60248433708588,\n      lng: -58.386806422620865\n    }\n  }, {\n    description: 'Sixth Safe',\n    coord: {\n      lat: -34.59992329866319,\n      lng: -58.39455264239046\n    }\n  }, {\n    description: 'Seventh Safe',\n    coord: {\n      lat: -34.60405624569346,\n      lng: -58.38845866340274\n    }\n  }];\n  var sitios = [];\n\n  if (allsities.length > 0) {\n    for (var i = 0; i < allsities.length; i++) {\n      var date = new Object();\n      date.description = allsities[i].name;\n      date.coord = {\n        lat: allsities[i].lat,\n        lng: allsities[i].lng\n      };\n      sitios.push(date);\n    }\n  } else {\n    console.log(\"no hizo dispacht\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(GoogleMap, {\n      defaultZoom: 11,\n      defaultCenter: coord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marker, {\n      position: myLatiLngi,\n      icon: pin\n    }, 100, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), sitios.map((e, i) => /*#__PURE__*/_jsxDEV(Marker, {\n      position: e.coord,\n      title: e.description,\n      icon: pin\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Maps, \"6RysmnroZ0qXHl6WQDtYqS8PGsc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Maps;\nconst WrappedMap = withScriptjs(_c2 = withGoogleMap(Maps));\n_c3 = WrappedMap;\nexport function Map() {\n  // geoCode();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(WrappedMap, {\n      googleMapURL: `https://maps.googleapis.com/maps/api/js?v=3.exp&language=en&key=AIzaSyDclWfFnp7AQpJjZQj7E9fsD7j6M9vPhTk`,\n      containerElement: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"500px\",\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 27\n      }, this),\n      mapElement: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }, this),\n      loadingElement: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: `100%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_c4 = Map;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Maps\");\n$RefreshReg$(_c2, \"WrappedMap$withScriptjs\");\n$RefreshReg$(_c3, \"WrappedMap\");\n$RefreshReg$(_c4, \"Map\");","map":{"version":3,"sources":["/home/any/Escritorio/PF/PF-GRUPAL/client/src/Components/Mapa/Map.jsx"],"names":["GoogleMap","withScriptjs","withGoogleMap","Marker","React","useEffect","useState","useSelector","useDispatch","connect","getallsafesitie","pin","Maps","props","myLatiLngi","setLatiLngi","map","marker","watchID","geoLoc","initMap","myLatLng","lat","lng","window","google","maps","Map","document","getElementById","zoom","center","position","title","getPosition","navigator","geolocation","options","timeout","watchPosition","showLocationOnMap","errorHandler","alert","latitud","coords","latitude","longitud","longitude","console","log","setPosition","setCenter","err","code","dispatch","todo","allsities","state","stateSitie","coord","descrip","locations","description","sitios","length","i","date","Object","name","push","e","WrappedMap","height","width"],"mappings":"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","sourcesContent":["import {\n  GoogleMap,\n  withScriptjs,\n  withGoogleMap,\n  Marker,\n} from \"react-google-maps\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {connect} from 'react-redux';\nimport {getallsafesitie} from '../../actions/actions.js';\n\nimport pin from \"./../../imgs/iconmapp.png\"\n\n\n\nexport default function Maps(props) {\n\n  const [myLatiLngi, setLatiLngi] = useState({})\n\n  let map;\n  let marker;\n  let watchID;\n  let geoLoc;\n\n  function initMap() {\n      const myLatLng = {lat: -25.363, lng: 131.044};\n      map = new window.google.maps.Map(document.getElementById(\"map\"), {\n          zoom: 4,\n          center: myLatLng\n      });\n      marker = new window.google.maps.Marker({\n          position: myLatLng,\n          map,\n          title: \"Hello Word\"\n      });\n      getPosition();\n  }\n\n  function getPosition() {\n      if(navigator.geolocation) {\n          var options = {timeout:60000};\n          geoLoc = navigator.geolocation; \n          watchID = geoLoc.watchPosition(showLocationOnMap, errorHandler, options)\n      } else {\n          alert(\"Lo sentimos, el explorador no soporta geolocalizacion\");\n      }\n  }\n\n  function showLocationOnMap(position) {\n      var latitud = position.coords.latitude;\n      var longitud = position.coords.longitude;\n      console.log(\"latitud: \" + latitud + \" Longitud: \" + longitud);\n\n      const myLatLng = {  lat: latitud, lng: longitud};\n      marker.setPosition(myLatLng);\n      map.setCenter(myLatLng);\n  }\n\n  function errorHandler(err) {\n      if(err.code == 1) {\n          alert(\"Error: Acceso denegado\");\n      } else if(err.code == 2) {\n          alert(\"Error: Position no existe o no se encuentra\");\n      }\n  }    \n  \n\n  const dispatch = useDispatch();\n\n  const todo=useEffect(async() => {\n    console.log(props)\n    await initMap()\n    dispatch(getallsafesitie())\n    },[])\n\n  const allsities = useSelector((state) => state.stateSitie);\n\n  const coord = {lat:-34.607914 ,lng: -58.370321}\n  const descrip='hola'\n  \n  var locations = [\n    {description:'First Safe',coord:{lat:-34.607914,lng:-58.370321}},\n    {description:'Second Safe',coord:{lat: -34.596152, lng:-58.383100}},\n    {description:'Third Safe', coord:{lat:-34.603972352446355, lng:-58.39045422694449}},\n    {description:'Fourth Safe',coord:{lat: -34.603159908195096,lng:-58.39217084074385}},\n    {description:'Fifth Safe',coord:{lat: -34.60248433708588, lng:-58.386806422620865}},\n    {description:'Sixth Safe',coord:{lat: -34.59992329866319, lng:-58.39455264239046}},\n    {description:'Seventh Safe',coord:{lat: -34.60405624569346, lng:-58.38845866340274}}\n  ];\n\n\n  var sitios=[];\n\nif(allsities.length>0){\n   \n  for(var i=0;i<allsities.length;i++){\n     var date=new Object();\n     date.description=allsities[i].name;\n     date.coord={lat:allsities[i].lat,lng:allsities[i].lng};\n     sitios.push(date);\n  }\n \n}else{\n  console.log(\"no hizo dispacht\")\n}\n  return (\n    <div>\n      <GoogleMap defaultZoom={11} defaultCenter={coord} />\n      <Marker key={100}\n        position={myLatiLngi} icon={pin}\n      ></Marker>\n      {\n        sitios.map((e,i)=>(\n          <Marker key={i}\n          position={e.coord} title={e.description} icon={pin}\n          />\n        ))}\n    </div>\n  );\n}\nconst WrappedMap = withScriptjs(withGoogleMap(Maps));\n\nexport function Map() {\n  // geoCode();\n  return (\n    <div>\n      <WrappedMap\n        googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&language=en&key=AIzaSyDclWfFnp7AQpJjZQj7E9fsD7j6M9vPhTk`}\n        containerElement={<div style={{ height: \"500px\", width: \"100%\" }} />}\n        mapElement={<div style={{ height: \"100%\", width: \"100%\" }} />}\n        loadingElement={<div style={{ height: `100%` }} />}\n      />\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}