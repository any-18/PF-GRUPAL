{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\florf\\\\Desktop\\\\ULTIMO CLONADOOO\\\\PF-GRUPAL\\\\client\\\\src\\\\Pages\\\\RegistrateLugarSeguro.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postAprobation, byCountrys, byTown } from '.././actions/actions';\nimport axios from \"axios\";\nimport './RegistrateLugarSeguro.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction validate(input) {\n  let errors = {};\n\n  if (!input.name) {\n    errors.name = 'Se requiere un nombre';\n  } else if (!input.country) {\n    errors.country = 'Se requiere un pais';\n  } else if (!input.town) {\n    errors.town = 'Se requiere una ciudad';\n  } else if (!input.street) {\n    errors.street = 'Se requiere una calle';\n  } else if (!input.number) {\n    errors.direction = 'Se requiere un número';\n  } else if (!input.postcode) {\n    errors.postcode = 'Se requiere un código postal';\n  } else if (!input.mail) {\n    errors.mail = 'Se requiere un mail';\n  } else if (!input.telephone) {\n    errors.telephone = 'Se requiere un teléfono';\n  } else if (!input.keyword) {\n    errors.keyword = 'Se requiere una palabra clave';\n  }\n\n  return errors;\n}\n\n;\nexport default function Registrate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const userId = useSelector(state => state.userId);\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    name: \"\",\n    country: \"\",\n    town: \"\",\n    street: \"\",\n    number: \"\",\n    postcode: \"\",\n    email: \"\",\n    telephone: \"\",\n    keyword: \"\",\n    relation: \"\"\n  });\n\n  function handleChange(e) {\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n    console.log(input);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    console.log(input);\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n    dispatch(postAprobation(input, userId));\n    await axios.post('http://localhost:3001/email/registroSafePlace', input);\n    alert(\"Registro creado!\");\n    setInput({\n      name: \"\",\n      country: \"\",\n      town: \"\",\n      street: \"\",\n      number: \"\",\n      postcode: \"\",\n      email: \"\",\n      telephone: \"\",\n      keyword: \"\",\n      relation: \"\"\n    });\n    history.push('/');\n  }\n\n  const handleFilterCountrys = e => {\n    setInput({ ...input,\n      country: e.target.value\n    });\n    dispatch(byCountrys(e.target.value));\n  };\n\n  const handleFilterTown = e => {\n    setInput({ ...input,\n      town: e.target.value\n    });\n    dispatch(byTown(e.target.value));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pageregistro\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Registro de lugar seguro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postlugarSeguro-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"primerparrafo\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Complet\\xE1 el formulario y registr\\xE1 tu comercio, empresa o entidad.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 45\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"segundoparrafo\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ayudanos a luchar contra la violencia machista y sexual.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"rectangulo\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formname\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.name,\n          name: \"name\",\n          placeholder: \"Nombre\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 16\n        }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"formcountry\",\n          onChange: e => handleFilterCountrys(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"All\",\n            children: \"Pa\\xEDs del lugar seguro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Argentina\",\n            children: \"Argentina\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 23\n          }, this), input.country]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"formtown\",\n          onChange: e => handleFilterTown(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"All\",\n            children: \"Ciudad Del lugar seguro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"CiudadDeBAs\",\n            children: \"Ciudad Aut\\xF3noma de Buenos Aires\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 23\n          }, this), input.town]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formstreet\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.street,\n          name: \"street\",\n          placeholder: \"Calle del lugar seguro\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 16\n        }, this), errors.street && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.street\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formnumber\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.number,\n          name: \"number\",\n          placeholder: \"N\\xFAmero\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 22\n        }, this), errors.number && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formpostcode\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.postcode,\n          name: \"postcode\",\n          placeholder: \"C\\xF3digo postal del lugar seguro\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 26\n        }, this), errors.postcode && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.postcode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formmail\",\n          autoComplete: \"off\",\n          type: \"email\",\n          value: input.email,\n          name: \"email\",\n          placeholder: \"nombre@example.com\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 16\n        }, this), errors.mail && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.mail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formtelephone\",\n          autoComplete: \"off\",\n          type: \"tel\",\n          value: input.telephone,\n          name: \"telephone\",\n          placeholder: \"Tel\\xE9fono\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 16\n        }, this), errors.telephone && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.telephone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formkeyword\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.keyword,\n          name: \"keyword\",\n          placeholder: \"Palabra clave\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 16\n        }, this), errors.keyword && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.keyword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"caja\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"signo\",\n            children: \"?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"info\",\n            children: \"La palabra clave la utilizar\\xE1n para pedir ayuda cuando recurran al lugar. Eleg\\xED algo representativo de tu establecimiento.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formrelation\",\n          autoComplete: \"off\",\n          type: \"text\",\n          value: input.relation,\n          name: \"relation\",\n          placeholder: \"Cu\\xE1l es tu relaci\\xF3n con el lugar seguro a registrar?\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 16\n        }, this), errors.relation && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: errors.relation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btninput\",\n          type: \"submit\",\n          disabled: !input.name || !input.town || !input.street || !input.number || !input.postcode || !input.email || !input.telephone || !input.keyword || !input.relation || !input.country,\n          onClick: e => handleSubmit(e),\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Registrate, \"+81TP+OJ4jdd9ZCdIeSlOlGSj8g=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = Registrate;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registrate\");","map":{"version":3,"sources":["C:/Users/florf/Desktop/ULTIMO CLONADOOO/PF-GRUPAL/client/src/Pages/RegistrateLugarSeguro.jsx"],"names":["React","useState","useHistory","useDispatch","useSelector","postAprobation","byCountrys","byTown","axios","validate","input","errors","name","country","town","street","number","direction","postcode","mail","telephone","keyword","Registrate","dispatch","history","userId","state","setErrors","setInput","email","relation","handleChange","e","target","value","console","log","handleSubmit","preventDefault","post","alert","push","handleFilterCountrys","handleFilterTown"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAASC,WAAT,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,cAAR,EAAwBC,UAAxB,EAAoCC,MAApC,QAAiD,sBAAjD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,6BAAP;;;AAGA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAI,CAACD,KAAK,CAACE,IAAX,EAAiB;AACfD,IAAAA,MAAM,CAACC,IAAP,GAAc,uBAAd;AACD,GAFD,MAGM,IAAI,CAACF,KAAK,CAACG,OAAX,EAAoB;AAC1BF,IAAAA,MAAM,CAACE,OAAP,GAAiB,qBAAjB;AACC,GAFK,MAGD,IAAI,CAACH,KAAK,CAACI,IAAX,EAAiB;AACtBH,IAAAA,MAAM,CAACG,IAAP,GAAc,wBAAd;AACC,GAFI,MAGA,IAAI,CAACJ,KAAK,CAACK,MAAX,EAAmB;AACpBJ,IAAAA,MAAM,CAACI,MAAP,GAAgB,uBAAhB;AACH,GAFI,MAGA,IAAI,CAACL,KAAK,CAACM,MAAX,EAAmB;AACpBL,IAAAA,MAAM,CAACM,SAAP,GAAmB,uBAAnB;AACH,GAFI,MAGA,IAAI,CAACP,KAAK,CAACQ,QAAX,EAAqB;AACtBP,IAAAA,MAAM,CAACO,QAAP,GAAkB,8BAAlB;AACH,GAFI,MAGA,IAAI,CAACR,KAAK,CAACS,IAAX,EAAiB;AAClBR,IAAAA,MAAM,CAACQ,IAAP,GAAc,qBAAd;AACH,GAFI,MAGA,IAAI,CAACT,KAAK,CAACU,SAAX,EAAsB;AACvBT,IAAAA,MAAM,CAACS,SAAP,GAAmB,yBAAnB;AACH,GAFI,MAGA,IAAI,CAACV,KAAK,CAACW,OAAX,EAAoB;AACrBV,IAAAA,MAAM,CAACU,OAAP,GAAiB,+BAAjB;AACH;;AACD,SAAOV,MAAP;AACD;;AAAA;AAEH,eAAe,SAASW,UAAT,GAAsB;AAAA;;AACjC,QAAMC,QAAQ,GAAGpB,WAAW,EAA5B;AACA,QAAMqB,OAAO,GAAGtB,UAAU,EAA1B;AACA,QAAMuB,MAAM,GAAGrB,WAAW,CAAEsB,KAAD,IAAUA,KAAK,CAACD,MAAjB,CAA1B;AAIA,QAAM,CAACd,MAAD,EAAQgB,SAAR,IAAqB1B,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACS,KAAD,EAAOkB,QAAP,IAAmB3B,QAAQ,CAAC;AAC9BW,IAAAA,IAAI,EAAE,EADwB;AAE9BC,IAAAA,OAAO,EAAE,EAFqB;AAG9BC,IAAAA,IAAI,EAAE,EAHwB;AAI9BC,IAAAA,MAAM,EAAE,EAJsB;AAK9BC,IAAAA,MAAM,EAAE,EALsB;AAM9BE,IAAAA,QAAQ,EAAE,EANoB;AAO9BW,IAAAA,KAAK,EAAE,EAPuB;AAQ9BT,IAAAA,SAAS,EAAE,EARmB;AAS9BC,IAAAA,OAAO,EAAE,EATqB;AAU9BS,IAAAA,QAAQ,EAAE;AAVoB,GAAD,CAAjC;;AAaA,WAASC,YAAT,CAAsBC,CAAtB,EAAwB;AACpBJ,IAAAA,QAAQ,CAAC,EACL,GAAGlB,KADE;AAEL,OAACsB,CAAC,CAACC,MAAF,CAASrB,IAAV,GAAkBoB,CAAC,CAACC,MAAF,CAASC;AAFtB,KAAD,CAAR;AAIAP,IAAAA,SAAS,CAAClB,QAAQ,CAAC,EAClB,GAAGC,KADe;AAElB,OAACsB,CAAC,CAACC,MAAF,CAASrB,IAAV,GAAiBoB,CAAC,CAACC,MAAF,CAASC;AAFR,KAAD,CAAT,CAAT;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY1B,KAAZ;AACH;;AACD,iBAAe2B,YAAf,CAA4BL,CAA5B,EAA8B;AAC1BA,IAAAA,CAAC,CAACM,cAAF;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY1B,KAAZ;AACAiB,IAAAA,SAAS,CAAClB,QAAQ,CAAC,EACf,GAAGC,KADY;AAEf,OAACsB,CAAC,CAACC,MAAF,CAASrB,IAAV,GAAgBoB,CAAC,CAACC,MAAF,CAASC;AAFV,KAAD,CAAT,CAAT;AAIAX,IAAAA,QAAQ,CAAClB,cAAc,CAACK,KAAD,EAAOe,MAAP,CAAf,CAAR;AACA,UAAMjB,KAAK,CAAC+B,IAAN,CAAW,+CAAX,EAA4D7B,KAA5D,CAAN;AACA8B,IAAAA,KAAK,CAAC,kBAAD,CAAL;AACAZ,IAAAA,QAAQ,CAAC;AACThB,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,OAAO,EAAE,EAFA;AAGTC,MAAAA,IAAI,EAAE,EAHG;AAITC,MAAAA,MAAM,EAAE,EAJC;AAKTC,MAAAA,MAAM,EAAE,EALC;AAMTE,MAAAA,QAAQ,EAAE,EAND;AAOTW,MAAAA,KAAK,EAAE,EAPE;AAQTT,MAAAA,SAAS,EAAE,EARF;AASTC,MAAAA,OAAO,EAAE,EATA;AAUTS,MAAAA,QAAQ,EAAE;AAVD,KAAD,CAAR;AAYAN,IAAAA,OAAO,CAACiB,IAAR,CAAa,GAAb;AACH;;AACD,QAAMC,oBAAoB,GAAIV,CAAD,IAAO;AAChCJ,IAAAA,QAAQ,CAAC,EAAC,GAAGlB,KAAJ;AAAUG,MAAAA,OAAO,EAACmB,CAAC,CAACC,MAAF,CAASC;AAA3B,KAAD,CAAR;AACAX,IAAAA,QAAQ,CAACjB,UAAU,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAAR;AACD,GAHH;;AAIE,QAAMS,gBAAgB,GAAIX,CAAD,IAAO;AAC9BJ,IAAAA,QAAQ,CAAC,EAAC,GAAGlB,KAAJ;AAAUI,MAAAA,IAAI,EAAEkB,CAAC,CAACC,MAAF,CAASC;AAAzB,KAAD,CAAR;AACAX,IAAAA,QAAQ,CAAChB,MAAM,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CAAR;AACD,GAHD;;AAKF,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,6BAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvB;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,mCAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhC;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAIG;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAJH,eAOG;AAAA,6BACA;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA,gCACI;AAAQ,UAAA,SAAS,EAAC,UAAlB;AACK,UAAA,YAAY,EAAG,KADpB;AAEK,UAAA,IAAI,EAAE,MAFX;AAGK,UAAA,KAAK,EAAGxB,KAAK,CAACE,IAHnB;AAIK,UAAA,IAAI,EAAE,MAJX;AAKK,UAAA,WAAW,EAAC,QALjB;AAMK,UAAA,QAAQ,EAAGoB,CAAD,IAAKD,YAAY,CAACC,CAAD;AANhC;AAAA;AAAA;AAAA;AAAA,gBADJ,EASWrB,MAAM,CAACC,IAAP,iBACE;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBD,MAAM,CAACC;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAVb,eAYS;AAAQ,UAAA,SAAS,EAAC,aAAlB;AAAgC,UAAA,QAAQ,EAAEoB,CAAC,IAAIU,oBAAoB,CAACV,CAAD,CAAnE;AAAA,kCACE;AAAQ,YAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAQ,YAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGtB,KAAK,CAACG,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZT,eAgBU;AAAQ,UAAA,SAAS,EAAC,UAAlB;AAA6B,UAAA,QAAQ,EAAEmB,CAAC,IAAIW,gBAAgB,CAACX,CAAD,CAA5D;AAAA,kCACC;AAAQ,YAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAQ,YAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,EAGEtB,KAAK,CAACI,IAHR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBV,eAoBI;AAAO,UAAA,SAAS,EAAC,YAAjB;AACK,UAAA,YAAY,EAAG,KADpB;AAEK,UAAA,IAAI,EAAE,MAFX;AAGK,UAAA,KAAK,EAAGJ,KAAK,CAACK,MAHnB;AAIK,UAAA,IAAI,EAAE,QAJX;AAKK,UAAA,WAAW,EAAC,wBALjB;AAMK,UAAA,QAAQ,EAAGiB,CAAD,IAAKD,YAAY,CAACC,CAAD;AANhC;AAAA;AAAA;AAAA;AAAA,gBApBJ,EA4BWrB,MAAM,CAACI,MAAP,iBACE;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBJ,MAAM,CAACI;AAA7B;AAAA;AAAA;AAAA;AAAA,gBA7Bb,eA+BU;AAAO,UAAA,SAAS,EAAC,YAAjB;AACD,UAAA,YAAY,EAAG,KADd;AAED,UAAA,IAAI,EAAE,MAFL;AAGD,UAAA,KAAK,EAAGL,KAAK,CAACM,MAHb;AAID,UAAA,IAAI,EAAE,QAJL;AAKD,UAAA,WAAW,EAAC,WALX;AAMD,UAAA,QAAQ,EAAGgB,CAAD,IAAKD,YAAY,CAACC,CAAD;AAN1B;AAAA;AAAA;AAAA;AAAA,gBA/BV,EAuCWrB,MAAM,CAACK,MAAP,iBACE;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBL,MAAM,CAACK;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAxCb,eA0Cc;AAAO,UAAA,SAAS,EAAC,cAAjB;AACL,UAAA,YAAY,EAAG,KADV;AAEL,UAAA,IAAI,EAAE,MAFD;AAGL,UAAA,KAAK,EAAGN,KAAK,CAACQ,QAHT;AAIL,UAAA,IAAI,EAAE,UAJD;AAKL,UAAA,WAAW,EAAC,mCALP;AAML,UAAA,QAAQ,EAAGc,CAAD,IAAKD,YAAY,CAACC,CAAD;AANtB;AAAA;AAAA;AAAA;AAAA,gBA1Cd,EAkDWrB,MAAM,CAACO,QAAP,iBACE;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBP,MAAM,CAACO;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAnDb,eAqDI;AAAO,UAAA,SAAS,EAAC,UAAjB;AACK,UAAA,YAAY,EAAG,KADpB;AAEK,UAAA,IAAI,EAAE,OAFX;AAGK,UAAA,KAAK,EAAGR,KAAK,CAACmB,KAHnB;AAIK,UAAA,IAAI,EAAE,OAJX;AAKK,UAAA,WAAW,EAAC,oBALjB;AAMK,UAAA,QAAQ,EAAGG,CAAD,IAAKD,YAAY,CAACC,CAAD;AANhC;AAAA;AAAA;AAAA;AAAA,gBArDJ,EA6DWrB,MAAM,CAACQ,IAAP,iBACE;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBR,MAAM,CAACQ;AAA7B;AAAA;AAAA;AAAA;AAAA,gBA9Db,eAgEI;AAAO,UAAA,SAAS,EAAC,eAAjB;AACK,UAAA,YAAY,EAAG,KADpB;AAEK,UAAA,IAAI,EAAE,KAFX;AAGK,UAAA,KAAK,EAAGT,KAAK,CAACU,SAHnB;AAIK,UAAA,IAAI,EAAE,WAJX;AAKK,UAAA,WAAW,EAAC,aALjB;AAMK,UAAA,QAAQ,EAAGY,CAAD,IAAKD,YAAY,CAACC,CAAD;AANhC;AAAA;AAAA;AAAA;AAAA,gBAhEJ,EAwEWrB,MAAM,CAACS,SAAP,iBACE;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBT,MAAM,CAACS;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAzEb,eA2EI;AAAO,UAAA,SAAS,EAAC,aAAjB;AACK,UAAA,YAAY,EAAG,KADpB;AAEK,UAAA,IAAI,EAAE,MAFX;AAGK,UAAA,KAAK,EAAGV,KAAK,CAACW,OAHnB;AAIK,UAAA,IAAI,EAAE,SAJX;AAKK,UAAA,WAAW,EAAC,eALjB;AAMK,UAAA,QAAQ,EAAGW,CAAD,IAAKD,YAAY,CAACC,CAAD;AANhC;AAAA;AAAA;AAAA;AAAA,gBA3EJ,EAmFWrB,MAAM,CAACU,OAAP,iBACE;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBV,MAAM,CAACU;AAA7B;AAAA;AAAA;AAAA;AAAA,gBApFb,eAsFU;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCAAsB;AAAG,YAAA,IAAI,EAAC,GAAR;AAAY,YAAA,SAAS,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAtB,eAAyD;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtFV,eAuFI;AAAO,UAAA,SAAS,EAAC,cAAjB;AACK,UAAA,YAAY,EAAG,KADpB;AAEK,UAAA,IAAI,EAAE,MAFX;AAGK,UAAA,KAAK,EAAGX,KAAK,CAACoB,QAHnB;AAIK,UAAA,IAAI,EAAE,UAJX;AAKK,UAAA,WAAW,EAAC,4DALjB;AAMK,UAAA,QAAQ,EAAGE,CAAD,IAAKD,YAAY,CAACC,CAAD;AANhC;AAAA;AAAA;AAAA;AAAA,gBAvFJ,EA+FUrB,MAAM,CAACmB,QAAP,iBACG;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,oBAAsBnB,MAAM,CAACmB;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAhGb,eAkGI;AAAQ,UAAA,SAAS,EAAC,UAAlB;AAA6B,UAAA,IAAI,EAAC,QAAlC;AAA2C,UAAA,QAAQ,EAAE,CAACpB,KAAK,CAACE,IAAP,IAAe,CAACF,KAAK,CAACI,IAAtB,IAA8B,CAACJ,KAAK,CAACK,MAArC,IAAgD,CAACL,KAAK,CAACM,MAAvD,IAAiE,CAACN,KAAK,CAACQ,QAAxE,IAAqF,CAACR,KAAK,CAACmB,KAA5F,IAAqG,CAACnB,KAAK,CAACU,SAA5G,IAAyH,CAACV,KAAK,CAACW,OAAhI,IAA2I,CAACX,KAAK,CAACoB,QAAlJ,IAA8J,CAACpB,KAAK,CAACG,OAA1N;AAAoO,UAAA,OAAO,EAAGmB,CAAD,IAAOK,YAAY,CAACL,CAAD,CAAhQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlGJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAPH;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgHH;;GAjLuBV,U;UACHnB,W,EACDD,U,EACDE,W;;;KAHKkB,U","sourcesContent":["import React, {useState} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { useDispatch,useSelector} from \"react-redux\";\r\nimport {postAprobation, byCountrys, byTown} from '.././actions/actions';\r\nimport axios from \"axios\";\r\nimport './RegistrateLugarSeguro.css';\r\n\r\n\r\nfunction validate(input) {\r\n    let errors = {};\r\n    if (!input.name) {\r\n      errors.name = 'Se requiere un nombre';\r\n    }\r\n     else if (!input.country) {\r\n    errors.country = 'Se requiere un pais';\r\n    }\r\n    else if (!input.town) {\r\n    errors.town = 'Se requiere una ciudad';\r\n    }\r\n    else if (!input.street) {\r\n        errors.street = 'Se requiere una calle';\r\n    }\r\n    else if (!input.number) {\r\n        errors.direction = 'Se requiere un número';\r\n    }\r\n    else if (!input.postcode) {\r\n        errors.postcode = 'Se requiere un código postal';\r\n    }\r\n    else if (!input.mail) {\r\n        errors.mail = 'Se requiere un mail';\r\n    }  \r\n    else if (!input.telephone) {\r\n        errors.telephone = 'Se requiere un teléfono';\r\n    }\r\n    else if (!input.keyword) {\r\n        errors.keyword = 'Se requiere una palabra clave';\r\n    }\r\n    return errors;\r\n  };\r\n\r\nexport default function Registrate() {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const userId = useSelector((state)=> state.userId);\r\n\r\n\r\n\r\n    const [errors,setErrors] = useState({});\r\n    const [input,setInput] = useState({\r\n        name: \"\",\r\n        country: \"\",\r\n        town: \"\",\r\n        street: \"\",\r\n        number: \"\",\r\n        postcode: \"\",\r\n        email: \"\",\r\n        telephone: \"\", \r\n        keyword: \"\",\r\n        relation: \"\",\r\n    })\r\n\r\n    function handleChange(e){\r\n        setInput({\r\n            ...input,\r\n            [e.target.name] : e.target.value\r\n        })\r\n        setErrors(validate({\r\n         ...input,\r\n         [e.target.name]: e.target.value\r\n       }));\r\n        console.log(input)\r\n    }\r\n    async function handleSubmit(e){\r\n        e.preventDefault();\r\n        console.log(input)\r\n        setErrors(validate({\r\n            ...input,\r\n            [e.target.name]:e.target.value\r\n        }));\r\n        dispatch(postAprobation(input,userId))\r\n        await axios.post('http://localhost:3001/email/registroSafePlace', input)\r\n        alert(\"Registro creado!\")\r\n        setInput({\r\n        name: \"\",\r\n        country: \"\",\r\n        town: \"\",\r\n        street: \"\",\r\n        number: \"\",\r\n        postcode: \"\",\r\n        email: \"\",\r\n        telephone: \"\", \r\n        keyword: \"\",\r\n        relation: \"\", \r\n        })\r\n        history.push('/')\r\n    }\r\n    const handleFilterCountrys = (e) => {\r\n        setInput({...input,country:e.target.value})\r\n        dispatch(byCountrys(e.target.value));\r\n      };\r\n      const handleFilterTown = (e) => {\r\n        setInput({...input,town: e.target.value})\r\n        dispatch(byTown(e.target.value));\r\n      };\r\n\r\n    return (\r\n        <div className='pageregistro'>\r\n            <div className='title'><h1>Registro de lugar seguro</h1></div>\r\n            <div className=\"postlugarSeguro-line\"></div>\r\n            <div className='primerparrafo'> <p>Completá el formulario y registrá tu comercio, empresa o entidad.</p> </div>\r\n           <div className='segundoparrafo' >\r\n           <p>Ayudanos a luchar contra la violencia machista y sexual.</p>\r\n           </div>\r\n           <div >\r\n           <form className='rectangulo'>\r\n               <input  className='formname'\r\n                    autoComplete = 'off'\r\n                    type= \"text\"\r\n                    value= {input.name}\r\n                    name= \"name\"\r\n                    placeholder=\"Nombre\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                    />\r\n                     {errors.name && (\r\n                        <p className='error'>{errors.name}</p>\r\n                    )}\r\n                    <select className='formcountry' onChange={e => handleFilterCountrys(e)}>\r\n                      <option value=\"All\">País del lugar seguro</option>\r\n                      <option value=\"Argentina\">Argentina</option>\r\n                      {input.country}</select>\r\n                     <select className='formtown' onChange={e => handleFilterTown(e)}>\r\n                      <option value=\"All\">Ciudad Del lugar seguro</option>\r\n                      <option value=\"CiudadDeBAs\">Ciudad Autónoma de Buenos Aires</option>\r\n                      {input.town}</select>\r\n               <input className='formstreet'\r\n                    autoComplete = 'off'\r\n                    type= \"text\"\r\n                    value= {input.street}\r\n                    name= \"street\"\r\n                    placeholder=\"Calle del lugar seguro\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                    />\r\n                     {errors.street && (\r\n                        <p className='error'>{errors.street}</p>\r\n                    )}\r\n                     <input className='formnumber'\r\n                    autoComplete = 'off'\r\n                    type= \"text\"\r\n                    value= {input.number}\r\n                    name= \"number\"\r\n                    placeholder=\"Número\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                    />\r\n                     {errors.number && (\r\n                        <p className='error'>{errors.number}</p>\r\n                    )}\r\n                         <input className='formpostcode'\r\n                    autoComplete = 'off'\r\n                    type= \"text\"\r\n                    value= {input.postcode}\r\n                    name= \"postcode\"\r\n                    placeholder=\"Código postal del lugar seguro\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                    />\r\n                     {errors.postcode && (\r\n                        <p className='error'>{errors.postcode}</p>\r\n                    )}\r\n               <input className='formmail'\r\n                    autoComplete = 'off'\r\n                    type= \"email\"\r\n                    value= {input.email}\r\n                    name= \"email\"\r\n                    placeholder=\"nombre@example.com\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                    />\r\n                     {errors.mail && (\r\n                        <p className='error'>{errors.mail}</p>\r\n                    )}\r\n               <input className='formtelephone'\r\n                    autoComplete = 'off'\r\n                    type= \"tel\"\r\n                    value= {input.telephone}\r\n                    name= \"telephone\"\r\n                    placeholder=\"Teléfono\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                    />\r\n                     {errors.telephone && (\r\n                        <p className='error'>{errors.telephone}</p>\r\n                    )}\r\n               <input className='formkeyword'\r\n                    autoComplete = 'off'\r\n                    type= \"text\"\r\n                    value= {input.keyword}\r\n                    name= \"keyword\"\r\n                    placeholder=\"Palabra clave\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                    />\r\n                     {errors.keyword && (\r\n                        <p className='error'>{errors.keyword}</p>\r\n                    )}\r\n                     <div className=\"caja\"><a href='#' className='signo'>?</a><span className=\"info\">La palabra clave la utilizarán para pedir ayuda cuando recurran al lugar. Elegí algo representativo de tu establecimiento.</span></div>\r\n               <input className='formrelation'\r\n                    autoComplete = 'off'\r\n                    type= \"text\"\r\n                    value= {input.relation}\r\n                    name= \"relation\"\r\n                    placeholder=\"Cuál es tu relación con el lugar seguro a registrar?\"\r\n                    onChange={(e)=>handleChange(e)} \r\n                   />\r\n                    {errors.relation && (\r\n                        <p className='error'>{errors.relation}</p>\r\n                    )}\r\n               <button className=\"btninput\" type='submit' disabled={!input.name || !input.town || !input.street  || !input.number || !input.postcode  || !input.email || !input.telephone || !input.keyword || !input.relation || !input.country } onClick={(e) => handleSubmit(e)}>Registrar</button>\r\n           </form>\r\n           </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}